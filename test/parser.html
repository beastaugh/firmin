<!DOCTYPE html>
<html><head>
    <title>Firmin.js parser tests</title>
    
    <script type="text/javascript" src="../src/firmin.js"></script>
</head><body>
    
    <script type="text/javascript">
        ThrowingError = function(klass) {
            var e = new klass();
            
            this.name = 'ThrowingError';
            this.message = '`' + e.name + '` not thrown';
        };
        
        assertEqual = function(p1, p2) {
            if (!(p1[0] === p2[0] && p1[1] === p2[1])) {
                throw new Error(p1.toString() + ' is not equal to ' + p2.toString());
            }
        };
        
        assertNull = function(input) {
            if (input !== null) {
                throw new Error(input.toString() + 'is not null');
            }
        };
        
        parseAngle = Firmin.Parser.parseAngle;
        parseTime  = Firmin.Parser.parseTime;
        
        assertEqual(["deg", 50], parseAngle(50));
        assertEqual(["deg", 50.0], parseAngle(50.0));
        assertEqual(["deg", 50], parseAngle("50"));
        assertEqual(["deg", 50.0], parseAngle("50.0"));
        assertEqual(["deg", 50], parseAngle("50deg"));
        assertEqual(["deg", 50.0], parseAngle("50.0deg"));
        assertEqual(["rad", 3], parseAngle("3rad"));
        assertEqual(["rad", 3.0], parseAngle("3.0rad"));
        assertNull(parseAngle("3.rad"));
        assertNull(parseAngle("3Ï€"));
        assertNull(parseAngle("rad"));
        assertNull(parseAngle({}));
        
        assertEqual(["s", 0], parseTime(0));
        assertEqual(["s", 0.0], parseTime(0.0));
        assertEqual(["s", 0], parseTime("0s"));
        assertEqual(["s", 0.0], parseTime("0.0s"));
        assertEqual(["ms", 0], parseTime("0ms"));
        assertEqual(["ms", 0.0], parseTime("0.0ms"));
        assertEqual(["ms", -1], parseTime("-1ms"));
    </script>
    
</body></html>
