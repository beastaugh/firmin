<!DOCTYPE html>
<html><head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Firmin, a JavaScript animation library using CSS transforms and transitions</title>
    
    <style type="text/css">
        body {
            margin:0;
            border:none;
            padding:16px 48px 48px;
            background:#fafafa;
            color:#404040;
            font-family:Helvetica, sans-serif;
            font-size:14px;
            line-height:1.5;
        }
        
        #wrapper {
            width:600px;
            margin:0 auto;
        }
        
        h1, h2, h3 {
            margin:0 0 12px 0;
            font-weight:bold;
        }
        
        h1 {
            font-family:'Times New Roman', Times, serif;
            font-size:30px;
            font-style:italic;
            font-weight:normal;
            text-align:center;
            padding-bottom:8px;
            border-bottom:1px solid #e5e5e5;
            margin-bottom:14px;
        }
        
        h2 {
            font-size:18px;
            margin-top:24px;
        }
        
        h3 {
            font-size:16px;
        }
        
        p {
            margin:0 0 12px 0;
        }
        
        a {
            background:#e5e5e5;
            color:#404040;
            text-transform:underline;
        }
        
        a:hover {
            background:#a4cc64;
        }
        
        em {
            font-style:normal;
            font-weight:bold;
        }
        
        code, pre {
            font-family:Courier, monospace;
            font-size:14px;
        }
        
        code {
            background:#e5e5e5;
        }
        
        pre {
            margin:0 0 12px 0;
            border-width:1px 1px 1px 6px;
            border-style:solid;
            border-color:#e5e5e5;
            padding:6px 12px;
            background:#fff;
        }
        
        sup, sub {
            font-size:10px;
        }
        
        sup {
            vertical-align:super;
        }
        
        sub {
            vertical-align:sub;
        }
        
        .function {
            margin-bottom:36px;
        }
        
        .function h3 {
            margin-bottom:6px;
        }
        
        .function h3 em {
            margin-right:12px;
        }
        
        .function h3 code {
            font-size:14px;
            font-weight: normal;
        }
        
        #footnotes ol {
            margin:0 0 12px 0;
            padding:0 0 0 20px;
        }
        
        #footnotes li {
            margin:5px 0;
            padding:0;
        }
    </style>
</head><body><div id="wrapper">
    
    <h1>Firmin</h1>
    
    
    <div id="introduction">
        <p>
            <a href="http://github.com/ionfish/firmin">Firmin</a> is a JavaScript
            animation library that uses CSS transforms and transitions to create
            smooth, hardware-accelerated animations.
        </p>
    </div>
    
    
    <div id="usage">
        <h2>Using Firmin</h2>
        
        <p>
            Firmin&#8217;s API is not large, and mainly consists of convenience
            methods which make performing particular transforms easier. All of
            these methods are based on two core operations: the
            <code>animate</code> function and the <code>animate</code> method.
        </p>
        
        <p>
            The <code>animate</code> function takes three arguments: the
            element to be animated; a description of the animation to be run;
            and the duration of the animation. Durations can be given as a
            string ending in <code>s</code> (meaning a time in seconds) or
            <code>ms</code> (meaning milliseconds). They can also be given as
            plain numbers, in which case they are assumed to denote a time in
            seconds.
        </p>
        
        <pre>var box = document.getElementById('box');

Firmin.animate(box, {
    skew: {
        x: "45deg",
        y: "30deg"
    }
}, "2.1s");</pre>
        
        <p>
            The <code>animate</code> function returns an object with a
            complementary <code>animate</code> method. This method takes two
            arguments, an animation description and a duration, and will be
            applied to the same element. This allows animations to be chained,
            applying the transformations in sequence.
        </p>
        
        <pre>Firmin.animate(box, {
    translateX: "200px"
}, "1.6s").animate({
    translateY: "100px"
}, "0.8s");</pre>
        
        <p>
            There are a number of shortcut methods with the same names as the
            CSS transform functions. These provide a convenient way to perform
            single transformations without passing a verbose description to
            <code>animate</code>. Detailed documentation can be found in the
            <a href="#reference">reference</a>. All of Firmin&#8217;s objects
            and methods fall under the <code>Firmin</code> namespace.
        </p>
        
        <ul>
            <li><code>translate</code>, <code>translateX</code>,
                <code>translateY</code>;</li>
            <li><code>scale</code>, <code>scaleX</code>, <code>scaleY</code>;
            <li><code>rotate</code>;</li>
            <li><code>skew</code>, <code>skewX</code>, <code>skewY</code>;
            <li><code>matrix</code>.</li>
        </ul>
        
        <p>
            Aside from the transforms themselves, there is a further
            transform-related property which can be given in an animation
            description: the <code>origin</code> from which the transform
            will be performed. This should be supplied as an object with
            <code>x</code> and <code>y</code> properties (both CSS lengths).
        </p>
        
        <pre>Firmin.animate(box, {
    rotate: "1.5rad",
    origin: {x: "10%", y: 0}
}, "400ms");</pre>
        
        <p>
            CSS transitions will also animate other properties, not merely
            transforms. For example, one could animate the opacity, background
            colour or height of an element. CSS property names are given in
            camelCase as is usual when modifying them with JavaScript.
        </p>
        
        <pre>Firmin.animate(box, {
    opacity:         0.8,
    height:          "200px",
    backgroundColor: "#000"
}, 0.5);</pre>
    </div>
    
    
    <div id="platforms">
        <h2>Supported platforms</h2>
        
        <p>
            Currently, the only supported platforms are those that use a recent
            version of the WebKit engine: <em>Safari 4</em>, <em>Mobile Safari</em>
            (i.e. iPhone and iPad) and <em>Google Chrome</em>. While CSS transforms
            and transitions are available for other browsers such as Opera 10.50
            and Firefox 3.7 (not yet released), some important additional
            features<sup><a class="fn-link" href="#fn1">1</a></sup> are not.
            Furthermore, the CSS transforms and transitions API is experimental,
            and varies between browsers. Once Firmin has reached a reasonable level
            of stability, an effort will be made to make it compatible with a wider
            range of browsers.
        </p>
        
        <h3>Hardware acceleration</h3>
        
        <p>
            One advantage of combining CSS transforms and transitions is that
            together they provide hardware-accelerated animation on
            WebKit-based browsers such as Safari on the Mac and Mobile Safari
            on the iPhone. Transitions which change the <code>opacity</code>
            property are also hardware accelerated on these platforms.
        </p>
    </div>
    
    
    <div id="transitions">
        <h2>Transition properties</h2>
        
        <p>
            The description object passed to the <code>animate</code> function
            allows for the customisation of the transition. The properties that
            can be used to do this are:
        </p>
        
        <ul>
            <li><code>properties</code></li>
            <li><code>timingFunction</code></li>
            <li><code>duration</code></li>
            <li><code>delay</code></li>
        </ul>
        
        <h3><code>properties</code></h3>
        
        <p>
            This allows for the filtering of properties which the transition
            will be applied to. It defaults to <code>"all"</code> and can be
            set to the string <code>"none"</code> or an array of CSS property
            names. It's described in detail in the CSS Transitions Module
            specification <a href="http://www.w3.org/TR/css3-transitions/#the-transition-property-property-">section 2.1</a>.
        </p>
        
        <h3><code>duration</code></h3>
        
        <p>
            The time taken by the transition. It can be specified in either
            seconds (<code>"1.5s"</code>) or milliseconds (<code>"300ms"</code>).
            If a number is given, rather than a string, it will be interpreted
            as a value in seconds. Negative values are interpreted as
            <code>0</code>, i.e. executing immediately.
        </p>
        
        <h3><code>timingFunction</code></h3>
        
        <p>
            This allows for control over how intermediate values used during
            a transition will be calculated. It accepts the name of a timing
            function as a string, or an array of numbers to be passed to the
            <code>cubic-bezier</code> function. There are five timing functions
            defined in the spec: <code>ease</code>, <code>linear</code>,
            <code>ease-in</code>, <code>ease-out</code> and
            <code>ease-in-out</code>. The default is <code>ease</code>. See
            <a href="http://www.w3.org/TR/css3-transitions/#transition-timing-function_tag">section 2.3</a>
            of the CSS Transitions Module specification for details.
        </p>
        
        
        <h3><code>delay</code></h3>
        
        <p>
            This accepts a time in the same way as <code>duration</code>, and
            specifies an interval to delay the execution of the transition by.
            Negative values will result in the transition executing immediately,
            but will begin part-way through the play cycle. This is explained
            further in <a href="http://www.w3.org/TR/css3-transitions/#the-transition-delay-property-">section 2.4</a>
            of the specification.
        </p>
    </div>
    
    
    <div id="reference">
        <h2>Reference</h2>
        
        <div class="function" id="animate">
            <h3>
                <em>animate</em>
                <code>Firmin.animate(element, description, [duration])</code>
            </h3>
            
            <p>
                The <em>description</em> object describes the animation to be
                carried out. For example, this animation would move the element
                400 pixels to the right and double its height.
            </p>
            
            <pre>var el = document.getElementById("test"),
    tf = {
        translateX: 400,
        scaleY:     2
    };

Firmin.animate(el, tf);</pre>
            
            <p>
                Instead of using <em>animate</em> with a <code>transform</code>
                argument, one can use the transform functions directly. Each
                transform function (e.g. <em>translateX</em>, <em>skewY</em>)
                accepts a transform value as its second argument. This value is
                also what should be used in the <code>transform</code> object
                when calling <em>animate</em>. In other words,
            </p>
            
            <pre>Firmin.animate(el, {skewX: "1rad"});</pre>
            
            <p>is equivalent to</p>
            
            <pre>Firmin.skewX(el, "1rad");</pre>
            
            <p>
                The optional <code>duration</code> argument specifies the duration
                of the animation in seconds; the default value is <code>0</code>.
            </p>
        </div>
        
        <div class="function" id="translate">
            <h3>
                <em>translate</em>
                <code>Firmin.translate(element, translation, [duration])</code>
            </h3>
            
            <p>
                The <em>translation</em> object can have two properties: the
                <code>x</code> (horizontal) and <code>y</code> distances which
                the element should be translated by. Both distances must be
                numbers&mdash;the units are pixels. For example, this
                translation would move the element 200 pixels to the right and
                100 pixels upwards.
            </p>
            
            <pre>Firmin.translate(el, {
    x: 200,
    y: -100
});</pre>
        </div>
        
        <div class="function" id="translateX">
            <h3>
                <em>translateX</em>
                <code>Firmin.translateX(element, horizontalMagnitude, [duration])</code>
            </h3>
            
            <p>
                The <em>magnitude</em> of the translation must be a number,
                representing the number of pixels the element is to be
                translated by along the horizontal axis. E.g., shifting it 50
                pixels to the left would be accomplished by:
            </p>
            
            <pre>Firmin.translateX(el, -50);</pre>
        </div>
        
        <div class="function" id="translateX">
            <h3>
                <em>translateY</em>
                <code>Firmin.translateY(element, verticalMagnitude, [duration])</code>
            </h3>
            
            <p>
                Again, the <em>magnitude</em> of the translation is a number
                stating the number of pixels the element should be translated
                by along the vertical axis. To move it 40 pixels down:
            </p>
            
            <pre>Firmin.translateY(el, 40);</pre>
        </div>
        
        <div class="function" id="scale">
            <h3>
                <em>scale</em>
                <code>Firmin.scale(element, magnitudes, [duration])</code>
            </h3>
            
            <p>
                The <em>magnitudes</em> object can have two properties: the
                <code>x</code> (horizontal) and <code>y</code> values which
                the element is to be scaled by. Changes of scale are pure
                magnitudes; they have no units. As such, they should be
                positive numbers. For example, to scale an element to twice its
                width and two-thirds of its height:
            </p>
            
            <pre>Firmin.scale(el, {
    x: 2,
    y: 2/3
});</pre>
        </div>
        
        <div class="function" id="scaleX">
            <h3>
                <em>scaleX</em>
                <code>Firmin.scaleX(element, horizontalMagnitude, [duration])</code>
            </h3>
            
            <p>
                The <em>horizontal magnitude</em> by which the element should
                be scaled by must be a positive number. To scale an element to
                four times its width:
            </p>
            
            <pre>Firmin.scaleX(el, 4);</pre>
        </div>
        
        <div class="function" id="scaleY">
            <h3>
                <em>scaleY</em>
                <code>Firmin.scaleY(element, verticalMagnitude, [duration])</code>
            </h3>
            
            <p>
                The <em>vertical magnitude</em> by which the element should be
                scaled by must be a positive number. To scale an element to
                half its height:
            </p>
            
            <pre>Firmin.scaleY(el, 0.5);</pre>
        </div>
        
        <div class="function" id="rotate">
            <h3>
                <em>rotate</em>
                <code>Firmin.rotate(element, angle, [duration])</code>
            </h3>
            
            <p>
                The <em>angle</em> by which the element will be rotated can be
                specified as a string, in which case it will be parsed as a
                <a href="http://www.w3.org/TR/css3-values/#angles">CSS angle
                type</a> (i.e. <code>"2rad"</code>, <code>"45deg"</code>,
                <code>1grad</code>, <code>0.25turn</code>), or as a number, in
                which case it is assumed that the angle is given in degrees.
            </p>
        </div>
        
        <div class="function" id="skew">
            <h3>
                <em>skew</em>
                <code>Firmin.skew(element, magnitudes, [duration])</code>
            </h3>
            
            <p>
                A skew transformation along the X and Y axes is specified via a
                <em>magnitudes</em> object with two properties: the
                <code>x</code> and <code>y</code> angles by which the element
                will be skewed.
            </p>
            
            <pre>Firmin.skew(el, {
    x: "20deg",
    y: "1rad"
});</pre>
        </div>
        
        <div class="function" id="skewX">
            <h3>
                <em>skewX</em>
                <code>Firmin.skewX(element, xAngle, [duration])</code>
            </h3>
            
            <p>
                The element will be skewed along the X axis by the angle given.
            </p>
            
            <pre>Firmin.skewX(el, "45deg");</pre>
        </div>
        
        <div class="function" id="skewX">
            <h3>
                <em>skewY</em>
                <code>Firmin.skewY(element, yAngle, [duration])</code>
            </h3>
            
            <p>
                The element will be skewed along the Y axis by the angle given.
            </p>
            
            <pre>Firmin.skewY(el, "30deg");</pre>
        </div>
        
        <div class="function" id="matrix">
            <h3>
                <em>matrix</em>
                <code>Firmin.matrix(element, vector, [duration])</code>
            </h3>
            
            <p>
                The <em>vector</em> supplied expresses a two-dimensional
                <a href="http://www.w3.org/TR/SVG/coords.html#TransformMatrixDefined">transformation
                matrix</a>. As only six values of the matrix are needed to
                compute the transformation, the 3x3 matrix can be represented
                as a six-element vector.
            </p>
            
            <pre>Firmin.matrix(element, [3, 1, 0, 2, 1, 1]);</pre>
            
            <p>
                All other transformations can be represented in terms of a
                transformation matrix&mdash;this is what the library does
                internally.
            </p>
        </div>
    </div>
    
    
    <div id="footnotes">
        <h2>Footnotes</h2>
        
        <ol>
            <li id="fn1">
                Such as an equivalent to the WebKit engine&#8217;s
                <code>onWebkitTransitionEnd</code> event.
            </li>
        </ol>
    </div>
    
</div><body></html>
